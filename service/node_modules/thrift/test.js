var thrift = require('./lib'),
    Cassandra = require('./examples/Cassandra')
    ttypes = require('./examples/cassandra_types');

var conn = new thrift.Connection(Cassandra.Client, "localhost", 9160);
conn.on("error", function(err) {
  err.message = "Error connecting to localhost:9160: " + err.message;
  require('sys').error(err.stack);
});
conn.open(function(client) {
  client.get_slice("Keyspace", "key", new ttypes.ColumnParent({column_family: "ExampleCF", super_column: null}), new ttypes.SlicePredicate({slice_range: new ttypes.SliceRange({start: '', end: ''})}), ttypes.ConsistencyLevel.ONE, function(err, data) {
    if (err) {
      // handle err
    } else {
      // data == [ttypes.ColumnOrSuperColumn, ...]
    }
    conn.end();
  });
});
